include ../../build/gcc_path.txt

CXX=${CROSS_COMPILE_CXX}
PREFIX_PATH=${BASEFS_PATH}

LD_FLAG=-lcgicc -lfcgi++ -lfcgi -L${PREFIX_PATH}/usr/lib/ -L ${THIRD_SRC_PATH}/hiredis-master -lhiredis
INCLUDE=-I${PREFIX_PATH}/usr/include -I${THIRD_SRC_PATH}/hiredis-master
#CXX_FLAG= -g

all:service
service:service.cpp FCgiIO.cpp
	${CXX} $^ ${CXX_FLAG} ${INCLUDE} ${LD_FLAG} -o $@
.PHONY: clean install

clean:
	rm -f service

install:
	cp service ../../fs-nfs/webservice 
